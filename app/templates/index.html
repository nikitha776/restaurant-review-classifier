<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restaurant Review Sentiment</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <main class="container">
      <section class="hero">
        <h1>Restaurant Review Classifier</h1>
        <p>
          Paste a restaurant review and we will instantly classify whether the
          experience was positive or negative using your trained ML model.
        </p>
      </section>

      <section class="card">
        <form action="/predict" method="post" class="form" autocomplete="off">
          <label for="review">Review text</label>
          <textarea
            id="review"
            name="review"
            rows="6"
            placeholder="e.g. The pasta was perfectly cooked and the service was delightful!"
            required
          >{{ result.review if result else "" }}</textarea>
          <button type="submit">Analyze sentiment</button>
        </form>

        {% if result %}
        <div class="result">
          <h2>Prediction</h2>
          <p class="badge {{ 'positive' if result.prediction == 'Liked' else 'negative' }}">
            {{ result.prediction }}
          </p>
          <p class="confidence">Confidence: {{ '%.2f' | format(result.confidence * 100) }}%</p>
        </div>
        {% endif %}
      </section>

      <section class="card details">
        <h2>How it works</h2>
        <ol>
          <li>The review text is converted into TF-IDF vectors using your saved vectorizer.</li>
          <li>The Bernoulli Naive Bayes model predicts whether the review is liked or not liked.</li>
          <li>The API returns the labeled prediction along with the model confidence.</li>
        </ol>
      </section>
    </main>
  </body>
</html>
